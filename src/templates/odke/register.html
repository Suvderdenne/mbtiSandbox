<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resume Form</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
    <h1 class="text-3xl font-bold mb-4">Resume Form</h1>

    <!-- Personal Details -->
    <section class="mb-6">
      <h2 class="text-2xl font-semibold mb-2">Personal Details</h2>
      <form id="registerForm" action="#" method="POST">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label for="firstname" class="block text-sm font-medium text-gray-700">First Name</label>
            <input type="text" id="firstname" name="firstname" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
          </div>
          <div>
            <label for="lastname" class="block text-sm font-medium text-gray-700">Last Name</label>
            <input type="text" id="lastname" name="lastname" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
          </div>
        </div>
        <div class="mt-4">
          <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
          <input type="email" id="email" name="email" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
        </div>
        <div class="mt-4">
          <label for="phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
          <input type="tel" id="phone" name="phone" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
        </div>

        <!-- Education -->
        <section class="mb-6">
          <h2 class="text-2xl font-semibold mb-2">Education</h2>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="institution" class="block text-sm font-medium text-gray-700">Institution</label>
              <input type="text" id="institution" name="institution" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div>
              <label for="degree" class="block text-sm font-medium text-gray-700">Degree</label>
              <input type="text" id="degree" name="degree" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
            </div>
          </div>
          <div class="mt-4">
            <label for="start_year" class="block text-sm font-medium text-gray-700">Start Year</label>
            <input type="number" id="start_year" name="start_year" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
          </div>
          <div class="mt-4">
            <label for="graduation_year" class="block text-sm font-medium text-gray-700">Graduation Year</label>
            <input type="number" id="graduation_year" name="graduation_year" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
          </div>
        </section>

        <!-- Skills -->
        <section class="mb-6">
          <h2 class="text-2xl font-semibold mb-2">Skills</h2>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="skill" class="block text-sm font-medium text-gray-700">Skill</label>
              <input type="text" id="skill" name="skill" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div>
              <label for="proficiency" class="block text-sm font-medium text-gray-700">Proficiency Level</label>
              <select id="proficiency" name="proficiency" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
                <option value="Beginner">Beginner</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Advanced">Advanced</option>
                <option value="Expert">Expert</option>
              </select>
            </div>
          </div>
        </section>

        <!-- Experience -->
        <section class="mb-6">
          <h2 class="text-2xl font-semibold mb-2">Experience</h2>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="company" class="block text-sm font-medium text-gray-700">Company</label>
              <input type="text" id="company" name="company" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div>
              <label for="job_title" class="block text-sm font-medium text-gray-700">Job Title</label>
              <input type="text" id="job_title" name="job_title" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
            </div>
          </div>
          <div class="mt-4">
            <label for="start_date" class="block text-sm font-medium text-gray-700">Start Date</label>
            <input type="date" id="start_date" name="start_date" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
          </div>
          <div class="mt-4">
            <label for="end_date" class="block text-sm font-medium text-gray-700">End Date</label>
            <input type="date" id="end_date" name="end_date" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
          </div>
        </section>

    </section>

    <!-- certifications -->
    <section class="mb-6">
        <h2 class="text-2xl font-semibold mb-2">Certification</h2>
        <div class="grid grid-cols-2 gap-4">
            <div>
            <label for="cer_institution" class="block text-sm font-medium text-gray-700">Institution</label>
            <input type="text" id="cer_institution" name="cer_institution" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
            </div>
            <div>
            <label for="cer_name" class="block text-sm font-medium text-gray-700">Name</label>
            <input type="text" id="cer_name" name="cer_name" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
            </div>
        </div>
        <div class="mt-4">
            <label for="cer_year" class="block text-sm font-medium text-gray-700">Year</label>
            <input type="number" id="cer_year" name="cer_year" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
        </div>
    </section>

    <!-- hobby -->
    <section class="mb-6">
        <h2 class="text-2xl font-semibold mb-2">Hobby</h2>
        <div class="grid grid-cols-2 gap-4">
            <div>
            <label for="hobby" class="block text-sm font-medium text-gray-700">hobby</label>
            <input type="text" id="hobby" name="hobby" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
            </div>
        </div>
    </section>

    <!-- languages -->
    <section class="mb-6">
        <h2 class="text-2xl font-semibold mb-2">Language</h2>
        <div class="grid grid-cols-2 gap-4">
            <div>
            <div>
            <label for="lang_proficiency" class="block text-sm font-medium text-gray-700">Proficiency Level</label>
            <select id="lang_proficiency" name="lang_proficiency" class="mt-1 block w-full p-2 border border-gray-300 rounded-md" required>
                <option value="Beginner">Beginner</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Advanced">Advanced</option>
                <option value="Expert">Expert</option>
            </select>
            </div>
        </div>
    </section>
  



    <!-- Submit Button -->

    <div class="mt-6">
        <button type="submit" class="w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Submit</button>
    </div>

      <!-- dshfusd -->
    <section id="output" class="mt-6 hidden">
      <h2 class="text-2xl font-semibold mb-2">Submitted Data</h2>
      <pre id="dataOutput" class="bg-gray-200 p-4 rounded-md"></pre>
    </section>
  </div>
</form>
</section>
  <script>
    const form = document.getElementById('registerForm');
    const outputSection = document.getElementById('output');
    const dataOutput = document.getElementById('dataOutput');

    form.addEventListener('submit', function (event) {
      event.preventDefault(); // Prevent default form submission behavior

      const formData = {
        "action": "cv_register",
        firstname: document.getElementById('firstname').value,
        lastname: document.getElementById('lastname').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        institution: document.getElementById('institution').value,
        degree: document.getElementById('degree').value,
        start_year: document.getElementById('start_year').value,
        graduation_year: document.getElementById('graduation_year').value,
        skill: document.getElementById('skill').value,
        proficiency: document.getElementById('proficiency').value,
        company: document.getElementById('company').value,
        job_title: document.getElementById('job_title').value,
        start_date: document.getElementById('start_date').value,
        end_date: document.getElementById('end_date').value,
        cer_institution: document.getElementById('cer_institution').value,
        cer_name: document.getElementById('cer_name').value,
        cer_year: document.getElementById('cer_year').value,
        hobby: document.getElementById('hobby').value,
        lang_proficiency: document.getElementById('lang_proficiency').value,
      };

      // Define the backend URL
      const url = 'http://whoism.mandakh.org/whois/';

      // Send the data to the backend
      fetch(url, {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          // 'X-CSRFToken': getCookie('csrftoken') // Uncomment if using Django with CSRF protection
        },
        body: JSON.stringify(formData)
      })
      .then(response => response.json())
      .then(data => {
        console.log('Success:', formData);
        alert('Registration successful!');

        // Display the submitted data
        outputSection.classList.remove('hidden');
        dataOutput.textContent = JSON.stringify(formData, null, 2); // Format the output
      })
      .catch((error) => {
        console.log('Error:', error);
        alert('An error occurred. Please try again.');
      });
    });
  </script>
</body>
</html>
